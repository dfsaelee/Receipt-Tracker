{
	"info": {
		"name": "Receipt Tracker API",
		"description": "Complete API collection for Receipt Tracker backend",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\",\n  \"fullName\": \"Test User\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/signup",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"signup"
							]
						}
					}
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"token\", jsonData.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					}
				}
			]
		},
		{
			"name": "Receipts",
			"item": [
				{
					"name": "Create Receipt",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"storeName\": \"Walmart\",\n  \"purchaseDate\": \"2025-12-28\",\n  \"categoryId\": 1,\n  \"amount\": 45.99,\n  \"imageKey\": \"receipts/123/test.jpg\",\n  \"items\": [\n    {\n      \"itemName\": \"Milk\",\n      \"quantity\": 2,\n      \"unitPrice\": 3.99\n    },\n    {\n      \"itemName\": \"Bread\",\n      \"quantity\": 1,\n      \"unitPrice\": 2.49\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/receipts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts"
							]
						}
					}
				},
				{
					"name": "Get All Receipts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"all"
							]
						}
					}
				},
				{
					"name": "Get Receipt by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"1"
							]
						}
					}
				},
				{
					"name": "Get Receipts by Date Range",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/date-range?startDate=2025-01-01&endDate=2025-12-31",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"date-range"
							],
							"query": [
								{
									"key": "startDate",
									"value": "2025-01-01"
								},
								{
									"key": "endDate",
									"value": "2025-12-31"
								}
							]
						}
					}
				},
				{
					"name": "Get Receipts by Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/category/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"category",
								"1"
							]
						}
					}
				},
				{
					"name": "Get Recent Receipts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/recent",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"recent"
							]
						}
					}
				},
				{
					"name": "Update Receipt",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"storeName\": \"Target\",\n  \"purchaseDate\": \"2025-12-28\",\n  \"categoryId\": 2,\n  \"amount\": 55.99,\n  \"imageKey\": \"receipts/123/test.jpg\",\n  \"items\": [\n    {\n      \"itemName\": \"Eggs\",\n      \"quantity\": 12,\n      \"unitPrice\": 4.99\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/receipts/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"1"
							]
						}
					}
				},
				{
					"name": "Update Receipt Category",
					"request": {
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"categoryId\": 3\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/receipts/1/category",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"1",
								"category"
							]
						}
					}
				},
				{
					"name": "Delete Receipt",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"1"
							]
						}
					}
				}
			]
		},
		{
			"name": "Receipt Items",
			"item": [
				{
					"name": "Get Receipt Items",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipt-items/receipt/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipt-items",
								"receipt",
								"1"
							]
						}
					}
				},
				{
					"name": "Get Receipt Item by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipt-items/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipt-items",
								"1"
							]
						}
					}
				},
				{
					"name": "Create Receipt Item",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"receiptId\": 1,\n  \"itemName\": \"Cheese\",\n  \"quantity\": 1,\n  \"unitPrice\": 6.99\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/receipt-items",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipt-items"
							]
						}
					}
				},
				{
					"name": "Create Receipt Items (Batch)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "[\n  {\n    \"itemName\": \"Apples\",\n    \"quantity\": 5,\n    \"unitPrice\": 0.99\n  },\n  {\n    \"itemName\": \"Bananas\",\n    \"quantity\": 3,\n    \"unitPrice\": 0.79\n  }\n]",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/receipt-items/receipt/1/batch",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipt-items",
								"receipt",
								"1",
								"batch"
							]
						}
					}
				},
				{
					"name": "Update Receipt Item",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"itemName\": \"Organic Milk\",\n  \"quantity\": 2,\n  \"unitPrice\": 5.99\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/receipt-items/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipt-items",
								"1"
							]
						}
					}
				},
				{
					"name": "Delete Receipt Item",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipt-items/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipt-items",
								"1"
							]
						}
					}
				},
				{
					"name": "Delete All Receipt Items",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipt-items/receipt/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipt-items",
								"receipt",
								"1"
							]
						}
					}
				}
			]
		},
		{
			"name": "Summaries",
			"item": [
				{
					"name": "Current Month Spending",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/summary/current-month",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"summary",
								"current-month"
							]
						}
					}
				},
				{
					"name": "Period Spending",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/summary/period?startDate=2025-01-01&endDate=2025-12-31",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"summary",
								"period"
							],
							"query": [
								{
									"key": "startDate",
									"value": "2025-01-01"
								},
								{
									"key": "endDate",
									"value": "2025-12-31"
								}
							]
						}
					}
				},
				{
					"name": "Monthly Spending",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/summary/monthly",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"summary",
								"monthly"
							]
						}
					}
				},
				{
					"name": "Total Spending",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/total",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"total"
							]
						}
					}
				}
			]
		},
		{
			"name": "S3 Images",
			"item": [
				{
					"name": "Upload Image",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "../walmartTest.jpeg"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/receipts/upload",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"upload"
							]
						}
					}
				},
				{
					"name": "Get Image URL",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/receipts/receipt-image?key=receipts/123/test.jpg",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"receipts",
								"receipt-image"
							],
							"query": [
								{
									"key": "key",
									"value": "receipts/123/test.jpg"
								}
							]
						}
					}
				}
			]
		}
	]
}