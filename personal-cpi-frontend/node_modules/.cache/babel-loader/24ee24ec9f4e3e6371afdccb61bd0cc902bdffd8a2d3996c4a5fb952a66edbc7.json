{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\turni\\\\DocumentsUnlinked\\\\Codge\\\\reciept-tracker\\\\personal-cpi-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8080';\n\n// Auth Context for managing authentication state\nconst AuthContext = /*#__PURE__*/React.createContext();\nconst AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [user, setUser] = useState(null);\n  const login = token => {\n    localStorage.setItem('token', token);\n    setToken(token);\n  };\n  const logout = () => {\n    localStorage.removeItem('token');\n    setToken(null);\n    setUser(null);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      token,\n      user,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n\n// API utility functions\n_s(AuthProvider, \"5jdN/xxWXjeFBJDLK8hQIVZz5IQ=\");\n_c = AuthProvider;\nconst api = {\n  signup: async userData => {\n    const response = await fetch(`${API_BASE_URL}/auth/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    });\n    return response;\n  },\n  login: async credentials => {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    });\n    return response;\n  },\n  verify: async verificationData => {\n    const response = await fetch(`${API_BASE_URL}/auth/verify`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(verificationData)\n    });\n    return response;\n  },\n  resend: async email => {\n    const response = await fetch(`${API_BASE_URL}/auth/resend?email=${email}`, {\n      method: 'POST'\n    });\n    return response;\n  }\n};\n\n// Login Component\nconst LoginForm = ({\n  onSwitchToSignup\n}) => {\n  _s2();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    login\n  } = React.useContext(AuthContext);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const response = await api.login(formData);\n      if (response.ok) {\n        const data = await response.json();\n        login(data.token);\n        alert('Login successful!');\n      } else {\n        const errorText = await response.text();\n        setError(errorText || 'Login failed');\n      }\n    } catch (err) {\n      setError('Network error. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login to Personal CPI Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: formData.password,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? 'Logging in...' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onSwitchToSignup,\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n\n// Signup Component\n_s2(LoginForm, \"Xx8wVpyJNlHzf+9Y9ETFzYkYlOY=\");\n_c2 = LoginForm;\nconst SignupForm = ({\n  onSwitchToLogin,\n  onSignupSuccess\n}) => {\n  _s3();\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const response = await api.signup(formData);\n      if (response.ok) {\n        const data = await response.json();\n        onSignupSuccess(formData.email);\n      } else {\n        const errorData = await response.json();\n        if (response.status === 409) {\n          setError(errorData.message + ' Would you like to resend verification?');\n        } else {\n          setError(errorData.message || 'Signup failed');\n        }\n      }\n    } catch (err) {\n      setError('Network error. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleResend = async () => {\n    try {\n      const response = await api.resend(formData.email);\n      if (response.ok) {\n        alert('Verification code sent! Check your email.');\n        onSignupSuccess(formData.email);\n      } else {\n        const errorText = await response.text();\n        setError(errorText);\n      }\n    } catch (err) {\n      setError('Failed to resend verification code');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sign Up for Personal CPI Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          value: formData.username,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: formData.password,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red'\n        },\n        children: [error, error.includes('resend verification') && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleResend,\n          children: \"Resend Verification Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? 'Signing up...' : 'Sign Up'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onSwitchToLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n\n// Verification Component\n_s3(SignupForm, \"DIoxYdMtcxSEW+XnEfiU+Md7F58=\");\n_c3 = SignupForm;\nconst VerificationForm = ({\n  email,\n  onVerificationSuccess,\n  onBackToSignup\n}) => {\n  _s4();\n  const [verificationCode, setVerificationCode] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const response = await api.verify({\n        email: email,\n        verificationCode: verificationCode\n      });\n      if (response.ok) {\n        alert('Email verified successfully! You can now login.');\n        onVerificationSuccess();\n      } else {\n        const errorText = await response.text();\n        setError(errorText || 'Verification failed');\n      }\n    } catch (err) {\n      setError('Network error. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleResend = async () => {\n    try {\n      const response = await api.resend(email);\n      if (response.ok) {\n        alert('New verification code sent! Check your email.');\n      } else {\n        const errorText = await response.text();\n        setError(errorText);\n      }\n    } catch (err) {\n      setError('Failed to resend verification code');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Verify Your Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"We sent a verification code to: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Verification Code:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: verificationCode,\n          onChange: e => setVerificationCode(e.target.value),\n          required: true,\n          placeholder: \"Enter 6-digit code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? 'Verifying...' : 'Verify Email'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Didn't receive the code?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleResend,\n        children: \"Resend Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBackToSignup,\n        children: \"Back to Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 5\n  }, this);\n};\n\n// Dashboard Component (shown after login)\n_s4(VerificationForm, \"fEdMAE7wgoOKMGs8nTQkzFqJ4Uo=\");\n_c4 = VerificationForm;\nconst Dashboard = () => {\n  _s5();\n  const {\n    logout,\n    token\n  } = React.useContext(AuthContext);\n  const testAuth = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/receipts/test-auth`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const text = await response.text();\n      alert(`Auth test result: ${text}`);\n    } catch (err) {\n      alert('Auth test failed: ' + err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Personal CPI Tracker Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Welcome! Your authentication is working.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: testAuth,\n        children: \"Test Authentication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Coming Soon:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Receipt Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Spending Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"CPI Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Monthly Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 5\n  }, this);\n};\n\n// Main App Component\n_s5(Dashboard, \"BlBCdHgRt1IURqIncia+uaXRDcA=\");\n_c5 = Dashboard;\nconst App = () => {\n  _s6();\n  const [currentView, setCurrentView] = useState('login');\n  const [verificationEmail, setVerificationEmail] = useState('');\n  const {\n    token\n  } = React.useContext(AuthContext);\n\n  // If user is logged in, show dashboard\n  if (token) {\n    return /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Handle view switching\n  const switchToLogin = () => setCurrentView('login');\n  const switchToSignup = () => setCurrentView('signup');\n  const switchToVerification = email => {\n    setVerificationEmail(email);\n    setCurrentView('verification');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '400px',\n      margin: '0 auto'\n    },\n    children: [currentView === 'login' && /*#__PURE__*/_jsxDEV(LoginForm, {\n      onSwitchToSignup: switchToSignup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 9\n    }, this), currentView === 'signup' && /*#__PURE__*/_jsxDEV(SignupForm, {\n      onSwitchToLogin: switchToLogin,\n      onSignupSuccess: switchToVerification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }, this), currentView === 'verification' && /*#__PURE__*/_jsxDEV(VerificationForm, {\n      email: verificationEmail,\n      onVerificationSuccess: switchToLogin,\n      onBackToSignup: switchToSignup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 5\n  }, this);\n};\n\n// Root component with Auth Provider\n_s6(App, \"9yZnX34kLYFkd3bOY0VFXKt2ELY=\");\n_c6 = App;\nconst AppWithAuth = () => {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 432,\n    columnNumber: 5\n  }, this);\n};\n_c7 = AppWithAuth;\nexport default AppWithAuth;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"AuthProvider\");\n$RefreshReg$(_c2, \"LoginForm\");\n$RefreshReg$(_c3, \"SignupForm\");\n$RefreshReg$(_c4, \"VerificationForm\");\n$RefreshReg$(_c5, \"Dashboard\");\n$RefreshReg$(_c6, \"App\");\n$RefreshReg$(_c7, \"AppWithAuth\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","API_BASE_URL","AuthContext","createContext","AuthProvider","children","_s","token","setToken","localStorage","getItem","user","setUser","login","setItem","logout","removeItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","api","signup","userData","response","fetch","method","headers","body","JSON","stringify","credentials","verify","verificationData","resend","email","LoginForm","onSwitchToSignup","_s2","formData","setFormData","password","error","setError","loading","setLoading","useContext","handleSubmit","e","preventDefault","ok","data","json","alert","errorText","text","err","handleChange","target","name","onSubmit","type","onChange","required","style","color","disabled","onClick","_c2","SignupForm","onSwitchToLogin","onSignupSuccess","_s3","username","errorData","status","message","handleResend","includes","_c3","VerificationForm","onVerificationSuccess","onBackToSignup","_s4","verificationCode","setVerificationCode","placeholder","_c4","Dashboard","_s5","testAuth","_c5","App","_s6","currentView","setCurrentView","verificationEmail","setVerificationEmail","switchToLogin","switchToSignup","switchToVerification","padding","maxWidth","margin","_c6","AppWithAuth","_c7","$RefreshReg$"],"sources":["C:/Users/turni/DocumentsUnlinked/Codge/reciept-tracker/personal-cpi-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst API_BASE_URL = 'http://localhost:8080';\n\n// Auth Context for managing authentication state\nconst AuthContext = React.createContext();\n\nconst AuthProvider = ({ children }) => {\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [user, setUser] = useState(null);\n\n  const login = (token) => {\n    localStorage.setItem('token', token);\n    setToken(token);\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    setToken(null);\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ token, user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// API utility functions\nconst api = {\n  signup: async (userData) => {\n    const response = await fetch(`${API_BASE_URL}/auth/signup`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(userData)\n    });\n    return response;\n  },\n\n  login: async (credentials) => {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(credentials)\n    });\n    return response;\n  },\n\n  verify: async (verificationData) => {\n    const response = await fetch(`${API_BASE_URL}/auth/verify`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(verificationData)\n    });\n    return response;\n  },\n\n  resend: async (email) => {\n    const response = await fetch(`${API_BASE_URL}/auth/resend?email=${email}`, {\n      method: 'POST'\n    });\n    return response;\n  }\n};\n\n// Login Component\nconst LoginForm = ({ onSwitchToSignup }) => {\n  const [formData, setFormData] = useState({ email: '', password: '' });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = React.useContext(AuthContext);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await api.login(formData);\n      \n      if (response.ok) {\n        const data = await response.json();\n        login(data.token);\n        alert('Login successful!');\n      } else {\n        const errorText = await response.text();\n        setError(errorText || 'Login failed');\n      }\n    } catch (err) {\n      setError('Network error. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return (\n    <div>\n      <h2>Login to Personal CPI Tracker</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        \n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        {error && <div style={{color: 'red'}}>{error}</div>}\n        \n        <button type=\"submit\" disabled={loading}>\n          {loading ? 'Logging in...' : 'Login'}\n        </button>\n      </form>\n      \n      <p>\n        Don't have an account?{' '}\n        <button onClick={onSwitchToSignup}>Sign up</button>\n      </p>\n    </div>\n  );\n};\n\n// Signup Component\nconst SignupForm = ({ onSwitchToLogin, onSignupSuccess }) => {\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await api.signup(formData);\n      \n      if (response.ok) {\n        const data = await response.json();\n        onSignupSuccess(formData.email);\n      } else {\n        const errorData = await response.json();\n        if (response.status === 409) {\n          setError(errorData.message + ' Would you like to resend verification?');\n        } else {\n          setError(errorData.message || 'Signup failed');\n        }\n      }\n    } catch (err) {\n      setError('Network error. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleResend = async () => {\n    try {\n      const response = await api.resend(formData.email);\n      if (response.ok) {\n        alert('Verification code sent! Check your email.');\n        onSignupSuccess(formData.email);\n      } else {\n        const errorText = await response.text();\n        setError(errorText);\n      }\n    } catch (err) {\n      setError('Failed to resend verification code');\n    }\n  };\n\n  return (\n    <div>\n      <h2>Sign Up for Personal CPI Tracker</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        \n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        {error && (\n          <div style={{color: 'red'}}>\n            {error}\n            {error.includes('resend verification') && (\n              <button type=\"button\" onClick={handleResend}>\n                Resend Verification Code\n              </button>\n            )}\n          </div>\n        )}\n        \n        <button type=\"submit\" disabled={loading}>\n          {loading ? 'Signing up...' : 'Sign Up'}\n        </button>\n      </form>\n      \n      <p>\n        Already have an account?{' '}\n        <button onClick={onSwitchToLogin}>Login</button>\n      </p>\n    </div>\n  );\n};\n\n// Verification Component\nconst VerificationForm = ({ email, onVerificationSuccess, onBackToSignup }) => {\n  const [verificationCode, setVerificationCode] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await api.verify({\n        email: email,\n        verificationCode: verificationCode\n      });\n      \n      if (response.ok) {\n        alert('Email verified successfully! You can now login.');\n        onVerificationSuccess();\n      } else {\n        const errorText = await response.text();\n        setError(errorText || 'Verification failed');\n      }\n    } catch (err) {\n      setError('Network error. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResend = async () => {\n    try {\n      const response = await api.resend(email);\n      if (response.ok) {\n        alert('New verification code sent! Check your email.');\n      } else {\n        const errorText = await response.text();\n        setError(errorText);\n      }\n    } catch (err) {\n      setError('Failed to resend verification code');\n    }\n  };\n\n  return (\n    <div>\n      <h2>Verify Your Email</h2>\n      <p>We sent a verification code to: <strong>{email}</strong></p>\n      \n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Verification Code:</label>\n          <input\n            type=\"text\"\n            value={verificationCode}\n            onChange={(e) => setVerificationCode(e.target.value)}\n            required\n            placeholder=\"Enter 6-digit code\"\n          />\n        </div>\n\n        {error && <div style={{color: 'red'}}>{error}</div>}\n        \n        <button type=\"submit\" disabled={loading}>\n          {loading ? 'Verifying...' : 'Verify Email'}\n        </button>\n      </form>\n      \n      <p>\n        Didn't receive the code?{' '}\n        <button onClick={handleResend}>Resend Code</button>\n      </p>\n      \n      <p>\n        <button onClick={onBackToSignup}>Back to Signup</button>\n      </p>\n    </div>\n  );\n};\n\n// Dashboard Component (shown after login)\nconst Dashboard = () => {\n  const { logout, token } = React.useContext(AuthContext);\n  \n  const testAuth = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/receipts/test-auth`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const text = await response.text();\n      alert(`Auth test result: ${text}`);\n    } catch (err) {\n      alert('Auth test failed: ' + err.message);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Personal CPI Tracker Dashboard</h1>\n      <p>Welcome! Your authentication is working.</p>\n      \n      <div>\n        <button onClick={testAuth}>Test Authentication</button>\n        <button onClick={logout}>Logout</button>\n      </div>\n      \n      <div>\n        <h3>Coming Soon:</h3>\n        <ul>\n          <li>Receipt Upload</li>\n          <li>Spending Dashboard</li>\n          <li>CPI Analysis</li>\n          <li>Monthly Reports</li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\n// Main App Component\nconst App = () => {\n  const [currentView, setCurrentView] = useState('login');\n  const [verificationEmail, setVerificationEmail] = useState('');\n  const { token } = React.useContext(AuthContext);\n\n  // If user is logged in, show dashboard\n  if (token) {\n    return <Dashboard />;\n  }\n\n  // Handle view switching\n  const switchToLogin = () => setCurrentView('login');\n  const switchToSignup = () => setCurrentView('signup');\n  const switchToVerification = (email) => {\n    setVerificationEmail(email);\n    setCurrentView('verification');\n  };\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '400px', margin: '0 auto' }}>\n      {currentView === 'login' && (\n        <LoginForm onSwitchToSignup={switchToSignup} />\n      )}\n      \n      {currentView === 'signup' && (\n        <SignupForm \n          onSwitchToLogin={switchToLogin} \n          onSignupSuccess={switchToVerification}\n        />\n      )}\n      \n      {currentView === 'verification' && (\n        <VerificationForm \n          email={verificationEmail}\n          onVerificationSuccess={switchToLogin}\n          onBackToSignup={switchToSignup}\n        />\n      )}\n    </div>\n  );\n};\n\n// Root component with Auth Provider\nconst AppWithAuth = () => {\n  return (\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  );\n};\n\nexport default AppWithAuth;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}